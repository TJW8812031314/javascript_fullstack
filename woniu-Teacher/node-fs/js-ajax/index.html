<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
  <title>手写ajax</title>
</head>
<body>
  <div class="pepole">
    <div class="name"></div>
    <div class="age"></div>
  </div>
  <!-- <script>
    // let data = $.ajax({
    //   url: './mook.json',
    //   type: 'get',
    //   dataType: 'json',
    //   timeout: 5000,
    //   async: true,
    //   data: {
    //     currentPage: 1
    //     total: 10
    //   }
    //   success: function(data) {
    //     console.log(data.persion)
    //     $('.name').html(data, persion.name)
    //     $('.age').html(data.persion.age)
    //   }
    // })
  </script> -->
  <script>
    var xhr = null;
    xhr = new XMLHttpRequest();
    // get:请求方式；'./mock.json': 访问接口；true: 异步请求
    xhr.open('get', './mock.json', true);
    // 发起请求
    xhr.send();
    // 状态变化回调
    // readyState取值描述
    // 0: 请求未初始化
    // 1: 服务器连接已建立
    // 2: 请求已接收 接收到了响应头
    // 3: 请求处理中 正在下载响应体
    // 4: 请求已完成，且响应已就绪
    xhr.onreadystatechange = function() {
      // console.log(xhr.readyState, xhr.status)
      if (xhr.readyState === 4 && xhr.status === 200) {
        console.log(JSON.parse(xhr.responseText))
        let data = JSON.parse(xhr.responseText)
        document.querySelector('.name').innerHTML = data.name
      }
      
    }
  </script>
</body>
</html>