<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>建造者模式</title>
</head>
<body>
  <script>
    // 作用：1. 分步创建一个复杂的对象
    // 2. 解耦封装过程和创建的组件
    // 3. 无需关心组件如何封装

    // 1. 产出的东西是房子
    // 2. 包工头 调用工人进行开工， 很清楚工人的具体大项
    // 工人是盖房子的， 可以建卧室客厅，建厨房

    function Fangzi(){
      this.woshi = ''
      this.keting = ''
      this.chufang = ''
    }

    function Bagongtou() {
      this.gaifangzhi = function(gongren) {
        gongren.jian_woshi();
        gongren.jian_keting();
        gongren.jian_chufang();
      }
    }

    function Gongren() {
      this.jian_woshi = function () {
        alert('卧室我建好啦')
      }
      this.jian_keting = function () {
        alert('客厅我建好了')
      }
      this.jian_chufang = function () {
        alert('厨房我建好了')
      }
      this.jiaogong = function() {
        var _fangzi = new Fangzi()
        _fangzi.woshi = 'ok'
        _fangzi.keting = 'OK'
        _fangzi.chufang = 'OK'
        return _fangzi
      }
    } 

    var gongren = new Gongren()

    var baogongtou = new Bagongtou()
    baogongtou.gaifangzhi(gongren)

    // 金主爸爸要房子
    var myfangzi = gongren.jiaogong()
    console.log(myfangzi)
    // alert(myfangzi)
  </script>
</body>
</html>