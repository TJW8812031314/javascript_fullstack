<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    var xiaowang = (function (argument) {
      var xiaowangjia = function (message) {
        this.menling = message
      }
      var men;
      var info = {
        sendMessage: function (message) {
          if (!men) {
            men = new xiaowangjia(message)
          }
          return men
        }
      }
      return info
    })()


    var xiaoli = {// 静态的，常驻内存里
      callxiaowang: function (msg) {
        var _xw = xiaowang.sendMessage(msg)
        alert(_xw.menling)
        _xw = null // 被垃圾回收
      }
    }

    xiaoli.callxiaowang('didi')
  </script>

  <script>
    // 页面上有4个按钮 a b c d
    // a b => top
    // c d => banner
    var top = {
      init: function () {
        this.render()
        this.bind()
      },
      a: 4,
      render: function() {
        var me = this// top
        me.btna = $('#a')
      },
      bind: function() {
        var me = this
        me.btna.click(function() {
          // 业务逻辑
          me.test()
        })
      },
      test: function() {
        a = 8
      }
    }


    var banner = {
      init: function () {
        this.render()
        this.bind()
      },
      a: 4,
      render: function() {
        var me = this// top
        me.btna = $('#c')
      },
      bind: function() {
        var me = this
        me.btna.click(function() {
          // 业务逻辑
          //this ==> btna
          me.test()
        })
      },
      test: function() {
        top.a = 10
      }
    }

    top.init()
    banner.init()


    // $('#a').click(function () {
    //   // 逻辑特别多
    //   var a = 4
    //   // .....

    // })
    // $('#b').click(function () {
    //   // 逻辑

    // })
    // $('#c').click(function () {
    //   // 逻辑

    // })
    // $('#d').click(function () {
    //   // 逻辑

    // })

  </script>
</body>

</html>